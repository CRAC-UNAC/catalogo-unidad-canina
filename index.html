<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unidad Nacional Canina - Cat√°logo Electr√≥nico</title>
    <!-- Bootstrap 5 CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Estilos personalizados -->
    <link rel="stylesheet" href="css/estilo.css" />
  </head>
  <body>
    <!-- Barra de navegaci√≥n institucional -->
    <nav
      class="navbar navbar-expand-lg navbar-dark"
      style="background-color: #19458d"
    >
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <img
            src="img/logo-policia.png"
            alt="Polic√≠a Nacional"
            width="75"
            height="75"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" href="#">CRAC</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="historia.html">HISTORIA</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="catalogo.html">CAT√ÅLOGO ELECTR√ìNICO</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#noticias">NOTICIAS</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#mision">MISI√ìN</a>
            </li>
          </ul>
          <a
            class="btn text-red btn-ingresar"
            href="admin/login.html"
            style="
              background-color: #a7a9ab;
              border: none;
              font-weight: bold;
              box-shadow: 0 2px 8px rgba(255, 239, 21, 0.18);
              transition: background 0.3s, color 0.3s, transform 0.2s,
                box-shadow 0.3s;
            "
            aria-label="Ingresar al sistema de administraci√≥n"
          >
            Administraci√≥n
          </a>
          <style>
            .btn-ingresar:hover,
            .btn-ingresar:focus {
              background: linear-gradient(90deg, #a7a9ab 0%, #19458d 100%);
              color: #fff !important;
              transform: translateY(-2px) scale(1.04);
              box-shadow: 0 6px 24px rgba(255, 158, 21, 0.28);
              outline: none;
            }
          </style>
          <img
            src="img/logo-canina.png"
            alt="Unidad Canina"
            width="75"
            height="75"
            class="ms-3"
            style="
              background: #fff;
              border-radius: 50%;
              border: 2px solid #1f2c54;
              box-shadow: 0 2px 8px rgba(31, 44, 84, 0.12);
            "
          />
        </div>
      </div>
    </nav>

    <!-- Bienvenida institucional -->
    <header class="bg-light py-5 text-center">
      <div class="container">
        <img
          src="img/logo-canina.png"
          alt="Unidad Canina"
          style="
            width: 110px;
            height: 110px;
            border-radius: 50%;
            border: 3px solid #1f2c54;
            background: #ffffff;
            box-shadow: 0 2px 8px rgba(31, 44, 84, 0.12);
            margin-bottom: 1rem;
          "
          class="mx-auto d-block mb-3"
        />
        <h1 class="display-5 fw-bold">
          Bienvenidos a la Unidad Nacional Canina
        </h1>
        <p class="lead">"Fieles amigos al Servicio de la Comunidad"</p>
      </div>
    </header>

    <!-- Noticias din√°micas -->
    <section id="noticias" class="noticias-section">
      <h2
        class="mb-4 text-center fw-bold animate__animated animate__fadeInDown"
      >
        Noticias Recientes
      </h2>
      <div id="noticias-dinamicas"></div>
    </section>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <style>
      .noticias-section {
        max-width: 1100px;
        margin: 60px auto 40px auto;
        display: flex;
        flex-direction: column;
        gap: 0;
      }
      .noticia-card {
        display: flex;
        min-height: 320px;
        background: #fff;
        box-shadow: 0 2px 16px #0001;
        margin-bottom: 0;
        align-items: stretch;
        width: 100%;
        border-radius: 0;
        overflow: hidden;
        transition: box-shadow 0.3s, transform 0.3s;
      }
      .noticia-card.left {
        flex-direction: row;
      }
      .noticia-card.right {
        flex-direction: row-reverse;
      }
      .noticia-text {
        flex: 1 1 50%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 48px 40px 48px 40px;
        font-size: 1.15em;
        color: #222;
      }
      .noticia-text h5 {
        font-size: 2em;
        color: #0a2a5c;
        margin-bottom: 18px;
        font-weight: bold;
      }
      .noticia-text .fecha {
        font-size: 0.95em;
        color: #888;
        margin-top: 18px;
      }
      .noticia-img {
        flex: 1 1 50%;
        display: flex;
        align-items: stretch;
        justify-content: stretch;
        overflow: hidden;
        min-height: 320px;
      }
      .noticia-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        transition: transform 0.4s cubic-bezier(0.4, 1.5, 0.5, 1),
          box-shadow 0.3s;
        margin: 0;
        border-radius: 0;
      }
      .noticia-img img:hover {
        transform: scale(1.08);
        box-shadow: 0 8px 32px #19458d44;
        z-index: 2;
      }
      @media (max-width: 900px) {
        .noticia-card,
        .noticia-card.left,
        .noticia-card.right {
          flex-direction: column !important;
          min-height: 0;
        }
        .noticia-img,
        .noticia-text {
          max-width: 100%;
          min-width: 0;
          padding: 18px 10px;
        }
        .noticia-img img {
          height: 220px;
        }
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.js"></script>
    <script>
      async function cargarNoticias() {
        const contenedor = document.getElementById('noticias-dinamicas');
        contenedor.innerHTML = '';
        try {
          const resp = await fetch('http://localhost:3000/api/noticias');
          const noticias = await resp.json();
          if (Array.isArray(noticias) && noticias.length > 0) {
            noticias.forEach((noticia, idx) => {
              const card = document.createElement('div');
              card.className =
                'noticia-card ' +
                (idx % 2 === 0 ? 'left' : 'right') +
                ' animate__animated ' +
                (idx % 2 === 0
                  ? 'animate__fadeInLeft'
                  : 'animate__fadeInRight');
              card.style.animationDelay = idx * 0.15 + 's';
              card.innerHTML = `
                <div class="noticia-text">
                  <h5>${noticia.titulo}</h5>
                  <p>${noticia.contenido}</p>
                  <div class="fecha">${new Date(
                    noticia.fecha_creacion
                  ).toLocaleDateString('es-EC', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                  })}</div>
                </div>
                <div class="noticia-img">
                  <img src="backend/img2/${
                    noticia.imagen
                  }" alt="Imagen Noticia" loading="lazy">
                </div>
              `;
              contenedor.appendChild(card);
            });
          } else {
            contenedor.innerHTML =
              '<div class="text-center text-muted animate__animated animate__fadeIn">No hay noticias disponibles.</div>';
          }
        } catch (err) {
          contenedor.innerHTML =
            '<div class="text-center text-danger animate__animated animate__shakeX">Error al cargar noticias.</div>';
        }
      }
      document.addEventListener('DOMContentLoaded', cargarNoticias);
    </script>

    <!-- Misi√≥n y servicios -->
    <section id="mision" class="py-1 bg-light">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <h4 class="fw-bold">Misi√≥n</h4>
            <p class="text-justify" style="text-align: justify">
              Ejecutar operaciones policiales para neutralizar actividades
              delictivas en coordinaci√≥n con los subsistemas policiales, con
              servidores policiales entrenados y canes adiestrados; adem√°s,
              gestionar la reproducci√≥n, crianza y adiestramiento de canes,
              capacitaci√≥n, especializaci√≥n y certificaci√≥n de gu√≠as caninos y
              canes de la Polic√≠a Nacional.
            </p>
          </div>
          <div class="col-md-6">
            <h4 class="fw-bold">Servicios</h4>
            <ul class="text-justify" style="list-style: none; padding-left: 0">
              <li>
                <a href="escuadras.html#antidrogas" class="escuadra-link">
                  üíäüêï‚Äçü¶∫ Grupo Canino Antidrogas</a
                >
              </li>
              <li>
                <a href="escuadras.html#mantenimiento" class="escuadra-link">
                  ü¶Æüöì Grupo Canino de Mantenimiento del Orden</a
                >
              </li>
              <li>
                <a href="escuadras.html#busqueda" class="escuadra-link">
                  üß≠ü¶¥ Grupo Canino de B√∫squeda de Personas y Restos Humanos</a
                >
              </li>
              <li>
                <a href="escuadras.html#terapia" class="escuadra-link">
                  üßë‚Äç‚öïÔ∏èüêï Grupo Canino de Terapia Asistida</a
                >
              </li>
              <li>
                <a href="escuadras.html#relaciones" class="escuadra-link"
                  >üéñÔ∏èüê∂ Grupo Canino de Relaciones P√∫blicas y Agilidad Canina</a
                >
              </li>
              <style>
                .escuadra-link {
                  font-weight: bold;
                  text-decoration: none;
                  color: #1f2c54;
                  padding: 0.5rem 1.2rem;
                  border-radius: 12px;
                  transition: background 0.3s, color 0.3s, transform 0.2s,
                    box-shadow 0.3s;
                  display: inline-block;
                  box-shadow: 0 2px 8px rgba(31, 44, 84, 0.04);
                  position: relative;
                  overflow: hidden;
                }
                .escuadra-link:hover,
                .escuadra-link:focus {
                  background: linear-gradient(90deg, #a7a9ab 0%, #19458d 100%);
                  color: #fff;
                  transform: translateY(-2px) scale(1.04);
                  box-shadow: 0 6px 24px rgba(31, 44, 84, 0.18);
                  text-shadow: 0 2px 8px rgba(31, 44, 84, 0.08);
                  outline: none;
                }
                .escuadra-link::after {
                  content: '';
                  position: absolute;
                  left: 0;
                  top: 0;
                  width: 100%;
                  height: 100%;
                  background: rgba(255, 255, 255, 0.08);
                  opacity: 0;
                  transition: opacity 0.3s;
                  border-radius: 10px;
                  pointer-events: none;
                }
                .escuadra-link:hover::after,
                .escuadra-link:focus::after {
                  opacity: 1;
                }
              </style>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Pie de p√°gina -->
    <footer
      class="text-white text-center py-1"
      style="background-color: #19458d"
    >
      <div class="container">
        <div
          class="d-flex justify-content-between align-items-center flex-wrap"
        >
          <p class="mb-0">
            &copy; 2025 Polic√≠a Nacional del Ecuador - Unidad Nacional Canina
          </p>
          <img
            src="img/policial.png"
            alt="Polic√≠a Nacional"
            style="height: 45px; width: auto; margin-left: 05px"
          />
        </div>
      </div>
    </footer>

    <!-- Scripts de Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
